<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/public/variant-multi.css" title="Variant Multi" media="all" />
    <link rel="stylesheet" type="text/css" href="/public/monokai.sublime.css" />
    <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=" rel="icon" type="image/x-icon" />
    <title>Project 2 &raquo; CS24 Summer 2013</title>
  </head>
  <body>
    <div id="container980">
<div id="header">
  <h1><a href="/cs24_m13/">Computer Science 24, Summer 2013</a></h1>
  <h2>Problem Solving with Computers II</h2>
</div>

<div id="menu">
  <ul>
    <li><a href="/cs24_m13/schedule">lecture schedule</a></li>
    <li><a href="/cs24_m13/submission">submission instructions</a></li>
  </ul>
</div>

<div id="main">
  <div id="sidebar">
    <div class="sidebarbox">
      <h2>People &amp; Office Hours</h2>
      <ul>
        <li><strong>Instructor</strong>: Bryce Boe
          (<a href="/">web</a>, <a href="mailto:bboe@cs.ucsb.edu">email</a>)
          <ul>
            <li>Tuesday, 14:15 - 15:15 in GSL</li>
            <li>Thursday, 11:15 - 12:15 in GSL</li>
          </ul>
        </li>
        <li><strong>TA</strong>: Jane Iedemska
          (<a href="mailto:jane@iedemska.com">email</a>)
          <ul>
            <li>Wednesday, 11:30 - 12:30 in Phelps 1413</li>
            <li>Thursday, 14:30 - 15:30 in Phelps 1413</li>
          </ul>
        </li>
      </ul>
    </div>

    <div class="sidebarbox">
      <h2>Deadlines</h2>
      <h3>All deadlines are at 23:59:59 on the due date.</h3>
      <ul>
        <li>2013/06/25 -- <a href="/cs24_m13/hw1">Homework 1</a></li>
        <li>2013/06/26 -- <a href="/cs24_m13/lab1">Lab 1</a></li>
        <li>2013/06/28 -- Course Drop with Refund</li>
        <li>2013/07/03 -- <a href="/cs24_m13/lab2">Lab 2</a></li>
        <li>2013/07/10 -- <a href="/cs24_m13/lab3">Lab 3</a></li>
        <li>2013/07/16 -- <a href="/cs24_m13/proj1">Project 1</a></li>
        <li>2013/07/17 -- <a href="/cs24_m13/lab4">Lab 4</a></li>
        <li>2013/08/01 -- <a href="/cs24_m13/lab5">Lab 5</a></li>
        <li>2013/08/07 -- <a href="/cs24_m13/lab6">Lab 6</a></li>
        <li>2013/08/10 -- <a href="/cs24_m13/proj2">Project 2 (Part 1)</a></li>
        <li>2013/08/14 -- <a href="/cs24_m13/lab7">Lab 7</a></li>
        <li>2013/08/17 -- <a href="/cs24_m13/proj2#part-2">Project 2 (Part 2)</a></li>
        <li>2013/08/21 -- <a href="/cs24_m13/lab8">Lab 8</a></li>
        <li>2013/08/30 -- <a href="/cs24_m13/proj3">Project 3</a></li>
      </ul>
    </div>
  </div>

  <div id="content">
<h2 id="project-2-virtual-directory-trees">Project 2: Virtual Directory Trees</h2>

<p><strong>Note</strong>: You must work independently on this assignment.</p>

<p>In this project, you will complete a binary search tree implementation and use
the BST to store references to other directories thus representing a virtual
directory tree. You will dynamically list, create, and destroy directories
based on input to the program.</p>

<h3 id="goals-for-this-project">Goals for this project</h3>

<p>By the time you have completed this project, you should:</p>

<ul>
  <li>
    <p>fully understand the use and implementation of a binary search tree</p>
  </li>
  <li>
    <p>be comfortable working with a general tree (a directory can have any number
of subdirectories)</p>
  </li>
</ul>

<h3 id="project-preparation">Project Preparation</h3>

<p>This project will use almost the same files as lab5. However, you will have to
make some modificiations to your <code class="language-plaintext highlighter-rouge">bst.cpp</code> in order to define the new
functions, and alter the return values of a few functions.</p>

<p>To begin create a proj2 directory (assuming you haven’t already done so):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> cs24/proj2
</code></pre></div></div>

<p>Change into the proj2 directory and copy the files you will need for this
project:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>cs24/proj2
<span class="nb">cp</span> ~bboe/public_html/cs24_m13/code/proj2/<span class="k">*</span> <span class="nb">.</span>
</code></pre></div></div>

<p>Then you will want to copy your <code class="language-plaintext highlighter-rouge">bst.cpp</code> file from your lab5 directory.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> ../lab5/bst.cpp <span class="nb">.</span>
</code></pre></div></div>

<h3 id="starting-the-project">Starting the project</h3>

<p>Open up <code class="language-plaintext highlighter-rouge">virtual_directory.cpp</code> and start reading the comments. They explain
which functions you should start first. You should <strong>not</strong> start working on
<code class="language-plaintext highlighter-rouge">BST::remove</code> and <code class="language-plaintext highlighter-rouge">remove_directory</code> until you have everything else working
perfectly. However, make sure you save plenty of time as <code class="language-plaintext highlighter-rouge">BST::remove</code> is the
most complicated piece of this assignment.</p>

<h3 id="part-2">Part 2</h3>

<p>You will need to have make_directory, list_directory and change_directory
working 100% before starting part 2. Send a private piazza message to receive a
copy of my part1 code.</p>

<p>In part two you must complete the following tasks (you should write them in
this order):</p>

<ol>
  <li>
    <p>Implement the <code class="language-plaintext highlighter-rouge">BinaryNode&lt;T&gt; *BST&lt;T&gt;::remove(T item)</code> method
(<code class="language-plaintext highlighter-rouge">bst.cpp</code>). Return NULL if <code class="language-plaintext highlighter-rouge">item</code> is not found in the BST, otherwise remove
the Binaryode from the tree and return a pointer to the BinaryNode (do not
deallocate the BinaryNode in this function). You will need to implement the
<code class="language-plaintext highlighter-rouge">BinaryNode&lt;T&gt; *find_max(BinaryNode&lt;T&gt; *node)</code> method to help you. When it
comes time to call <code class="language-plaintext highlighter-rouge">find_max</code> from within your recursive delete function you
would call it via <code class="language-plaintext highlighter-rouge">BST::find_max(root_of_subtree)</code>.</p>
  </li>
  <li>
    <p>Implement the <code class="language-plaintext highlighter-rouge">remove_directory</code> function (<code class="language-plaintext highlighter-rouge">virtual_directory.cpp</code>). The
function takes in the current directory and a string containing the name of the
directory to remove. The directory matching <code class="language-plaintext highlighter-rouge">name</code> should be removed from
<code class="language-plaintext highlighter-rouge">cwds</code> list of children if it exists, otherwise output the error message if the
directory does not exist. Make sure to deallocate any memory at this point that
requires deallocation.</p>
  </li>
  <li>
    <p>Implement the <code class="language-plaintext highlighter-rouge">Binarynode&lt;T&gt; *BST&lt;T&gt;::remove_root()</code> method
(<code class="language-plaintext highlighter-rouge">bst.cpp</code>). Remove and return the root of the tree if such a BinaryNode
exists, otherwise return NULL.</p>
  </li>
  <li>
    <p>Implement the Directory destructor <code class="language-plaintext highlighter-rouge">Directory::~Directory</code> (just add this
function somewhere near the top of <code class="language-plaintext highlighter-rouge">virtual_directory.cpp</code>). When a Directory
is destructed it should clean up any allocations that are associated with that
directory. That includes deallocating any of its subdirectories (use
<code class="language-plaintext highlighter-rouge">BST::remove_root</code> as many times as necessary, which will implicitly
recursively remove any of its children and so on).</p>
  </li>
  <li>
    <p>Implement the BST destructor <code class="language-plaintext highlighter-rouge">BST::~BST</code> (<code class="language-plaintext highlighter-rouge">bst.cpp</code>). The destructor should
deallocate any memory it directly allocated, i.e., the BinaryNode instances,
but it is not responsible for deallocating items that are stored within them
(nor should it as you cannot assume T is a freeable type). <strong>NOTE</strong>: This
function needs to deallocate memory in all cases, even if you don’t end up
using one of those cases directly in project 2.</p>
  </li>
</ol>

<h3 id="part-2-hints">Part 2 Hints</h3>

<h4 id="recursive-remove-helper-function">Recursive remove helper function</h4>

<p>The recursive remove helper function can be pretty tricky to delcare correctly
so the following is how I recommend you declare the function:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="n">BinaryNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">remove_recursive</span><span class="p">(</span><span class="n">BinaryNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">node</span><span class="p">,</span> <span class="n">T</span> <span class="n">item</span><span class="p">,</span>
                                <span class="n">BinaryNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">**</span><span class="n">retval</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Below is an example of how you might structure this function.</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">MATCH</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Write the code for the three remove cases</span>
        <span class="c1">// Update retval and return the appropriate new root of the subtree</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">GO_LEFT</span><span class="p">)</span>
         <span class="n">node</span><span class="o">-&gt;</span><span class="n">set_lhs</span><span class="p">(</span><span class="n">remove_recursive</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">get_lhs</span><span class="p">(),</span> <span class="n">item</span><span class="p">,</span> <span class="n">retval</span><span class="p">));</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">GO_RIGHT</span><span class="p">)</span>
         <span class="n">node</span><span class="o">-&gt;</span><span class="n">set_rhs</span><span class="p">(</span><span class="n">remove_recursive</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">get_rhs</span><span class="p">(),</span> <span class="n">item</span><span class="p">,</span> <span class="n">retval</span><span class="p">));</span>
    <span class="k">else</span> <span class="p">{</span> <span class="cm">/* Do you need this? */</span> <span class="p">}</span>

    <span class="cm">/* The return value should point at the updated root of the subtree.
       If the current node isn't being removed then the return should
       not be altered. If the current node is being removed *retval should
       be set to the node that has been removed from the tree (and contains
       the T that is being removed) and the return value should point to
       the new root of the subtree.
     */</span>
    <span class="k">return</span> <span class="n">node</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><strong>Note</strong> that the compiler has a hard time determining whether or not the T
item is a reference. To disambiguate we need to specify the template that is
used when we call the funciton. To help a bit more since I don’t want you to
struggle with this part, I’ll provide you with the base function that you
should use (should be in <code class="language-plaintext highlighter-rouge">bst.cpp</code>):</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span><span class="p">&gt;</span>
<span class="n">BinaryNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">BST</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">remove</span><span class="p">(</span><span class="n">T</span> <span class="n">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">BinaryNode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">retval</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">remove_recursive</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">retval</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="building-and-testing-the-project">Building and testing the project</h3>

<p>To build the project run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div>

<p>If successful that will produce <code class="language-plaintext highlighter-rouge">virtual_directory</code> which you can run via:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./virtual_directory
</code></pre></div></div>

<p>This program has it’s own set of commands which you can list via the command
<code class="language-plaintext highlighter-rouge">help</code>. You will need to get all these commands works.</p>

  </div>
  <div class="clear">&nbsp;</div>
</div>

      <div id="credits">
        <p><span class="small">Template design by <a href="https://andreasviklund.com/">Andreas Viklund</a></span></p>
      </div>
    </div>
  </body>
</html>
