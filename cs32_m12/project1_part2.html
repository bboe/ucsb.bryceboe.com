<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/public/variant-multi.css" title="Variant Multi" media="all" />
    <link rel="stylesheet" type="text/css" href="/public/monokai.sublime.css" />
    <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=" rel="icon" type="image/x-icon" />
    <title>Project 1, Part 2 &raquo; CS32 Summer 2012</title>
  </head>
  <body>
    <div id="container980">
<div id="header">
  <h1><a href="/cs32_m12/">Computer Science 32, Summer 2012</a></h1>
  <h2>Object-Oriented Design and Implementation</h2>
</div>

<div id="menu">
  <ul>
    <li><a href="/cs32_m12/schedule">lecture schedule</a></li>
    <li><a href="/cs32_m12/automated_feedback">automated feedback</a></li>
    <li><a href="/cs32_m12/bourne">bourne shell scripting</a></li>
  </ul>
</div>

<div id="main">
  <div id="sidebar">
    <div class="sidebarbox">
      <h2>People &amp; Office Hours</h2>
      <ul>
        <li><strong>Instructor</strong>: Bryce Boe
          (<a href="/">web</a>, <a href="mailto:bboe@cs.ucsb.edu">email</a>)
          <ul>
            <li>Monday, 14:15 - 15:15 in GSL</li>
            <li>Wednesday, 11:15 - 12:15 in GSL</li>
          </ul>
        </li>
        <li><strong>TA</strong>: Saeed Mahani
          <ul>
            <li>Tuesday, 14:00 - 15:00 in CSIL</li>
            <li>Thursday, 13:00 - 14:00 in CSIL</li>
          </ul>
        </li>
      </ul>
    </div>

    <div class="sidebarbox">
      <h2>Tentative Deadlines</h2>
      <h3>All deadlines are at 23:59:59 on the due date.</h3>
      <ul>
        <li>2012/08/06 -- <a href="/cs32_m12/hw1">Homework 1</a></li>
        <li>2012/08/09 -- <a href="/cs32_m12/lab1">Lab 1</a></li>
        <li>2012/08/10 -- Drop with Refund</li>
        <li>2012/08/12 -- <a href="/cs32_m12/hw2">Homework 2</a></li>
        <li>2012/08/16 -- <a href="/cs32_m12/lab2">Lab 2</a></li>
        <li>2012/08/19 -- <a href="/cs32_m12/project1_part1">Project 1, Part 1</a></li>
        <li>2012/08/23 -- <a href="/cs32_m12/lab3">Lab 3</a></li>
        <li>2012/08/26 -- <a href="/cs32_m12/project1_part2">Project 1, Part 2</a></li>
        <li>2012/08/30 -- <a href="/cs32_m12/lab4">Lab 4</a></li>
        <li>2012/09/06 -- <a href="/cs32_m12/lab5">Lab 5</a></li>
        <li>2012/09/13 -- <a href="/cs32_m12/project2">Project 2</a></li>
      </ul>
    </div>
  </div>

  <div id="content">
<h2 id="project-1-part-2-sorting-algorithm-implementations">Project 1, Part 2: Sorting algorithm implementations</h2>

<h3 id="motivation">Motivation</h3>

<p>The purpose of this part of the assignment is for you to implement and test a
few of the sorting algorithms we have described in class. By doing so, you
should gain a complete knowledge of how the sorting algorithms work.</p>

<h3 id="project-setup">Project Setup</h3>

<p>I am providing you with the code that handles all the input and output that the
feedback system will use to test your sorting algorithms. To setup this project
change into whatever directory you plan on working in (make sure its
permissions are such that others cannot access your files) and run the
following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> ~cs32/public_html/code/proj1_part2/<span class="k">*</span> <span class="nb">.</span>
</code></pre></div></div>

<p>Running this command will provide you with four files in your current
directory:</p>

<p><strong>helper.cpp</strong>: This is the file that you will need to edit to provide the
correct implementation for the functions described in the next section.</p>

<p><strong>helper.h</strong>: This is the header file that specifies the interface to the
functions contained within helper.cpp.</p>

<p><strong>Makefile</strong>: This file specifies the commands to build the project. By typing
<code class="language-plaintext highlighter-rouge">make</code> the first target, <code class="language-plaintext highlighter-rouge">all</code> is run that runs the command listed to compile
the project. Cleanup is also defined and can be performed by running <code class="language-plaintext highlighter-rouge">make
clean</code>.</p>

<p><strong>sorted.cpp</strong>: This file contains the code to handle the input and output for
the program. While not necessary for this project, you should be able to
understand all the code contained in this file. I strongly recommend that you
look over it and ask questions if you aren’t sure what something is doing.</p>

<h3 id="implementation">Implementation</h3>

<p>All the code you need to modify is contained in the file <code class="language-plaintext highlighter-rouge">helper.cpp</code> and
conveniently labled with <code class="language-plaintext highlighter-rouge">TODO</code> comments. For convenience, I will describe each
of the changes you need to make.</p>

<h4 id="comparison-functions">Comparison Functions</h4>

<p>There are three string comparison functions that the <code class="language-plaintext highlighter-rouge">sorter</code> program
provides. A comparison function is a function that takes two arguments, I will
call them <code class="language-plaintext highlighter-rouge">lhs</code> and <code class="language-plaintext highlighter-rouge">rhs</code> for left-hand-side and right-hand-side
respectively. The comparison function compares the lhs to the rhs according to
some criteria and returns one of the following:</p>

<ul>
  <li>a negative value, when the lhs is less than the rhs</li>
  <li>zero, when the lhs is neither less than, nor greater than the rhs</li>
  <li>a positive value, when the lhs is greater than the rhs</li>
</ul>

<p>Note that it is up to the comparison function to define what is meant by <code class="language-plaintext highlighter-rouge">less
than</code> and <code class="language-plaintext highlighter-rouge">greater than</code>. Also, note that two items may compare similarly (a
return value of zero) but may in fact not be equivalent.</p>

<p>The first two comparison functions are already provided for you. The first is
the <code class="language-plaintext highlighter-rouge">default_comparison</code> function that sorts strings according to the ASCII
value of the first character in the string. If the first character matches
between the lhs and rhs, then subsequent characters are compared until an
ordering can be provided, or the strings are found to be similar. The second
comparision function is is <code class="language-plaintext highlighter-rouge">length_comparison</code>. This function simply compares
strings according to their length, with shorter strings being less than longer
strings. For strings of equal length, the <code class="language-plaintext highlighter-rouge">length_comparison</code> function will
perform a secondary comparison using the same logic as the <code class="language-plaintext highlighter-rouge">default_comparison</code>
function previously mentioned.</p>

<p>The third comparison function, <code class="language-plaintext highlighter-rouge">numerical_comparison</code>, is one you will have to
write. In the provided code, this function simply uses the same method as the
<code class="language-plaintext highlighter-rouge">default_compare</code> function. However, you need to implement this function such
that it attempts to compare the values as integer values with smaller numbers
being less than larger numbers. Strings that completely represent an integer
should compare less than strings that aren’t completely integers. When neither
string is completely an integer, then the default comparison logic should be
used.</p>

<p>As an example, the following items (separated by whitespace) are in their
correct sort order as defined above:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-1 0 1 02 10 * 1.1 1a apple zebra
</code></pre></div></div>

<p>Your <code class="language-plaintext highlighter-rouge">numerical_comparision</code> function should produce this exact sort order for
these items. I found <a href="https://stackoverflow.com/questions/4917265/can-i-tell-if-a-stdstring-represents-a-number-using-stringstream">this stackoverflow
question</a>
useful in writing of the numerical comparison function.</p>

<h4 id="sorting-algorithms">Sorting Algorithms</h4>

<p>There are four sorting algorithms that need to be implemented. Those are:</p>

<ul>
  <li>bubble_sort</li>
  <li>insertion_sort</li>
  <li>selection_sort</li>
  <li>mergesort</li>
</ul>

<p>The prototype for each of the sort functions is:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">sort_name</span><span class="p">(</span><span class="n">string</span> <span class="o">*</span><span class="n">string_array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">compare</span><span class="p">)(</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="p">));</span>
</code></pre></div></div>

<p>The first argument, <code class="language-plaintext highlighter-rouge">string_array</code>, is a pointer to an array of strings. This
variable holds the data you will need to sort. The second argument, <code class="language-plaintext highlighter-rouge">n</code>, is the
number of elements contaned in <code class="language-plaintext highlighter-rouge">string_array</code>. This variable indicates how many
elements you will need to sort. Finally, you may be confused about the last
parameter. Many of you may never have seen a pointer to a function before. Let
me break it down for you:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">compare</span><span class="p">)(</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
</code></pre></div></div>

<p>As I just indicated, this parameter represents a pointer to a function. Since
we are in C++, we must describe exactly the prototype for the function
pointer. The initial <code class="language-plaintext highlighter-rouge">int</code> informs the compiler (and the developer) that the
function will return an integer. The <code class="language-plaintext highlighter-rouge">(*compare)</code> section informs the compiler
that we have a function pointer, the value of which will be assigned to the
variable compare. The <code class="language-plaintext highlighter-rouge">(string, string)</code> represents the parameters that the
passed in function must take. In this case, the passed in function must take
two strings as parameters.</p>

<p>When the sorter program is invoked, the user must select both a sorting
algorithm, and a comparison function. In order to support any one of the three
comparison functions in your sort algorithms you must only compare values by
using the function pointed to by the <code class="language-plaintext highlighter-rouge">compare</code> variable. You can use <code class="language-plaintext highlighter-rouge">compare</code>
just like any other declared function. Below is an example:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="n">a</span> <span class="o">=</span> <span class="s">"some string"</span><span class="p">;</span>
<span class="n">string</span> <span class="n">b</span> <span class="o">=</span> <span class="s">"another string"</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">retval</span> <span class="o">=</span> <span class="n">compare</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
</code></pre></div></div>

<p>In the above, if <code class="language-plaintext highlighter-rouge">compare</code> is a pointer to either <code class="language-plaintext highlighter-rouge">default_comparison</code> or
<code class="language-plaintext highlighter-rouge">numerical_comparison</code>, then the return value will be positive as “another
string” is less than “some string” according to both those comparisons. If
<code class="language-plaintext highlighter-rouge">compare</code> is a pointer to <code class="language-plaintext highlighter-rouge">length_comparison</code>, then the return value will be
negative as “some string” is less (shorter) than “another string”.</p>

<p>You <strong>must</strong> manually write the sort algorithm for each of these. While you are
free to use external resources to assist you, you may not plagiarize, and you
will be expected explain any code in your submitted project. Finally, any
attempt to circumvent the feedback system (such as using the same sort code in
more than one of these functions) will result in a zero on the entire project 1
assignment.</p>

<h3 id="testing-your-program">Testing your program</h3>

<p>Now that you have a wonderful test_it.sh script, you are expected to use it to
test this project. I will describe setting up a simple test environment in a
manor that does not require you to modify your test_it.sh script.</p>

<p>First, copy test_it.sh into the same directory as the files you previously
copied. Assuming you are in the directory containing the files, run the
following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> tests/sorter
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"0</span><span class="se">\n</span><span class="s2">0</span><span class="se">\n</span><span class="s2">c b a"</span> <span class="o">&gt;</span> tests/sorter/input_bubble_default_01
</code></pre></div></div>

<p>The second line above will produce a file with the following contents:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0
0
c b a
</code></pre></div></div>

<p><strong>Note</strong>: To end the input stream you will need to press <code class="language-plaintext highlighter-rouge">&lt;ctrl&gt;+d</code>.</p>

<p>If you run this against sorter before making any changes, the following output
will be produced:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Which sort algorithm would you like to use?
  0. bubble sort
  1. insertion sort
  2. selection sort
  3. mergesort
bubble sort selected
Which comparison function would you like to use?
  0. default
  1. string length
  2. numerical
default selected
c
b
a
</code></pre></div></div>

<p>You’ll notice that the last three lines are not sorted (you haven’t written the
sorts yet). Nevertheless, you know how <code class="language-plaintext highlighter-rouge">c b a</code> should be sorted, thus create a
file <code class="language-plaintext highlighter-rouge">tests/sorter/output_bubble_default_01</code> with the following contents:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Which sort algorithm would you like to use?
  0. bubble sort
  1. insertion sort
  2. selection sort
  3. mergesort
bubble sort selected
Which comparison function would you like to use?
  0. default
  1. string length
  2. numerical
default selected
a
b
c
</code></pre></div></div>

<p>Now that you have one test case written, let’s verify that it works as expected
with your <code class="language-plaintext highlighter-rouge">test_it.sh</code> script and the provided <code class="language-plaintext highlighter-rouge">sorter</code> program. First, if you
haven’t already compiled the project, run <code class="language-plaintext highlighter-rouge">make</code>. Now you’ll want to run
<code class="language-plaintext highlighter-rouge">test_it</code>. However, due to the fact that <code class="language-plaintext highlighter-rouge">test_it.sh</code> expects the programs to
be found in a directory pointed to by the <code class="language-plaintext highlighter-rouge">PATH</code> environment variable, we will
have to adjust the path as part of our command line. Assuming you’ve copied
your <code class="language-plaintext highlighter-rouge">test_it.sh</code> script into the same directory as your sorter program, run
the following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:. test_it.sh tests/
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">PATH=$PATH:.</code> part before the command will temporarily update your path
for the remainder of the command line. In this case, we are appending <code class="language-plaintext highlighter-rouge">.</code>, the
current directory, to the end of the PATH variable. Recall that PATH components
are separated by <code class="language-plaintext highlighter-rouge">:</code>.</p>

<p>When you run the above you should get the following output:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Testing sorter
Failed: bubble_default_01
</code></pre></div></div>

<p>Great! That means it works, but it’s not super useful as you cannot see what
the errors are. Recall that your test_it.sh script is sending the diff output
to <code class="language-plaintext highlighter-rouge">/dev/null</code>. If you remove the <code class="language-plaintext highlighter-rouge">&gt; /dev/null</code> from the line containing diff,
then the output should print to the screen (as long as you aren’t capturing the
output by running the command inside <code class="language-plaintext highlighter-rouge">$(...)</code>). You may also want to add the
<code class="language-plaintext highlighter-rouge">-u</code> option to your diff program invocation to get easier to read diff
output. Edit your <code class="language-plaintext highlighter-rouge">test_it.sh</code> script to allow diff to output to the screen and
add <code class="language-plaintext highlighter-rouge">-u</code> as an argument to diff. Re-run the tests. You should now see something
similar to:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Testing sorter
--- ../proj1_part2/tests//sorter/output_bubble_default_01       2012-08-18 16:19:27.000000000 -0700
+++ -                                                           2012-08-18 16:23:37.800290894 -0700
@@ -9,6 +9,6 @@
   1. string length
   2. numerical
 default selected
-a
-b
 c
+b
+a
Failed: bubble_default_01
</code></pre></div></div>

<p>As you can see everything matches, except the order of the lines containing
<code class="language-plaintext highlighter-rouge">a</code>, <code class="language-plaintext highlighter-rouge">b</code>, and <code class="language-plaintext highlighter-rouge">c</code>.</p>

<p>That’s the basic process for creating test cases to be used with your
<code class="language-plaintext highlighter-rouge">test_it.sh</code> script. You’ll want to create a few test cases for each of the
combination of sorts and comparison functions. Given that there are a total of
twelve combinations, you’ll probably want to write at least 36 test cases. Of
course, you can build the test cases incrementally as you implement more
functionality.</p>

<h3 id="submission-instructions">Submission Instructions</h3>

<p>For this project you will only be allowed 6 submissions, and you will receive
no <code class="language-plaintext highlighter-rouge">diff</code> output in the feedback. You are expected to extensively test your
project on your own before submitting.</p>

<p>Again, I want to mention that any attempt to circumvent the feedback system
(such as using the same sort code in more than one of the functions) will
result in a zero on the entire project 1 assignment (12% of the class grade).</p>

<p>Finally, you will only be submitting <code class="language-plaintext highlighter-rouge">helper.cpp</code>. Your code must <strong>not</strong>
depend on any changes you made outside <code class="language-plaintext highlighter-rouge">helper.cpp</code>. Additionally, all the
input and output is handled by the already provided code. Thus the code you
write should not produce any output when the <code class="language-plaintext highlighter-rouge">debug</code> variable is <code class="language-plaintext highlighter-rouge">false</code>.</p>

<p>To submit, run the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~cs32/submit pj1part2@cs32 helper.cpp
</code></pre></div></div>

<p>You may submit up to 6 times. Please check the feedback email to ensure you
submitted correctly, and are satisfied with your final score. If you are not,
feel free to revise and submit again. Please also review the
<a href="/cs32_m12/automated_feedback">automated feedback</a> instructions as needed.</p>

  </div>
  <div class="clear">&nbsp;</div>
</div>

      <div id="credits">
        <p><span class="small">Template design by <a href="https://andreasviklund.com/">Andreas Viklund</a></span></p>
      </div>
    </div>
  </body>
</html>
