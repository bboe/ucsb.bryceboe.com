<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/public/variant-multi.css" title="Variant Multi" media="all" />
    <link rel="stylesheet" type="text/css" href="/public/monokai.sublime.css" />
    <link href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=" rel="icon" type="image/x-icon" />
    <title>Project 3 &raquo; CS24 Fall 2013</title>
  </head>
  <body>
    <div id="container980">
<div id="header">
  <h1><a href="/cs24_f13/">Computer Science 24, Fall 2013</a></h1>
  <h2>Problem Solving with Computers II</h2>
</div>

<div id="menu">
  <ul>
    <li><a href="/cs24_f13/schedule">lecture schedule</a></li>
    <li><a href="/cs24_f13/submission">submission instructions</a></li>
    <li><a href="/cs24_f13/gdb">gdb tutorial</a></li>
  </ul>
</div>

<div id="main">
  <div id="sidebar">
    <div class="sidebarbox">
      <h2>People &amp; Office Hours</h2>
      <ul>
        <li><strong>Instructor</strong>: Bryce Boe
          (<a href="/">web</a>, <a href="mailto:bboe@cs.ucsb.edu">email</a>)
          <ul>
            <li>Tuesday, 15:30 - 16:30 in HFH 1152</li>
            <li>Wednesday, 11:00 - 12:00 in HFH 1152</li>
          </ul>
        </li>
        <li><strong>TA</strong>: Geoffrey Douglas
          <ul>
            <li>Wednesday, 15:00 - 17:00 in Phelps 1413</li>
          </ul>
        </li>
        <li><strong>TA</strong>: Jon Sun
          <ul>
            <li>Thursday, 10:00 - 12:00 in Phelps 1413</li>
          </ul>
        </li>
        <li><strong>TA</strong>: Dani Kudrow
          <ul>
            <li>Thursday, 15:00 - 17:00 in Phelps 1413</li>
          </ul>
        </li>
      </ul>
    </div>

    <div class="sidebarbox">
      <h2>Deadlines</h2>
      <h3>All deadlines are at 23:59:59 on the due date unless otherwise noted.</h3>
      <ul>
        <li>2013/09/30 -- <a href="/cs24_f13/lab1">Lab 1</a></li>
        <li>2013/10/02 -- Drop deadline (no fee)</li>
        <li>2013/10/08 -- <a href="/cs24_f13/lab2">Lab 2</a></li>
        <li>2013/10/14 -- <a href="/cs24_f13/lab3">Lab 3</a></li>
        <li>2013/10/20 -- <a href="/cs24_f13/proj1">Project 1</a></li>
        <li>2013/10/22 -- <a href="/cs24_f13/lab4">Lab 4</a></li>
        <li>2013/10/23 23:45 -- Drop deadline ($3 fee)</li>
        <li>2013/10/28 -- <a href="/cs24_f13/lab5">Lab 5</a></li>
        <li>2013/10/30 14:00 -- Midterm Examination</li>
        <li>2013/11/04 -- <a href="/cs24_f13/lab6">Lab 6</a></li>
        <li>2013/11/13 -- <a href="/cs24_f13/lab7">Lab 7</a></li>
        <li>2013/11/18 -- <a href="/cs24_f13/lab8">Lab 8</a></li>
        <li>2013/11/22 -- <a href="/cs24_f13/proj2">Project 2</a></li>
        <li>2013/11/25 -- <a href="/cs24_f13/lab9">Lab 9</a></li>
        <li>2013/12/02 -- <a href="/cs24_f13/lab10">Lab 10</a></li>
        <li>2013/12/06 -- <a href="/cs24_f13/proj3">Project 3</a></li>
        <li>2013/12/09 16:00 -- Final Examination</li>
      </ul>
    </div>
  </div>

  <div id="content">
<h1 id="project-3-emergency-room-patient-scheduling">Project 3: Emergency Room Patient Scheduling</h1>

<p><strong>Note</strong>: While you are only allowed to work within your group on this
assignment, with respect to the use of data structures within the C++ STL
please feel free to share and discuss examples of code that utilizes these data
structures. Do not, however, share nor discuss code pertaining to solving the
challenge in the assignment.</p>

<p>In this project, you will utilize some of the data structures we have discussed
in this class to create a log of patients in an emergency room. There are no
training wheels for this project. You have 100% of control over your program
and thus must properly read in the input, and produce the expected output.</p>

<h2 id="goals-for-this-project">Goals for this project</h2>

<p>By the time you have completed this project, you should:</p>

<ul>
  <li>be comfortable parsing data from an input stream</li>
  <li>know which data structure to use for a particular task (the right tool for
the job)</li>
  <li>be able to use data structures contained within the C++ standard template
library</li>
</ul>

<h2 id="project-description">Project description</h2>

<p>The program you write, <code class="language-plaintext highlighter-rouge">main.cpp</code>, will be provided structured input to the
standard input stream (see the <strong>input</strong> section below) that describes a number
of symptoms, the doctors available, and the times that patients arrive on a
single day at hospital’s emergency room. You will output to the standard output
stream a log file (see the <strong>output</strong> section below) containing the events as
they occured that day.</p>

<h2 id="input">Input</h2>

<p>Below is an example of what the input format will look like. Notice that there
are three distinct sections to the file: priorities, doctors, and patient
arrivals.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Priorities
01 Cough
05 Head Ache
08 Bleeding
10 Decompression Sickness
# Doctors
Dr. Something Orother
# Patient Arrivals
09:11 "Vincent van Gogh" "Bleeding" 150
09:30 "Phineas Gage" "Head Ache" 65
09:45 "Neil Armstrong" "Decompression Sickness" 360
</code></pre></div></div>

<h3 id="priorities-section">Priorities section</h3>

<p>Each line within the first section can be broken into <code class="language-plaintext highlighter-rouge">TWO_DIGIT_NUM space
SYMPTOM</code> where <code class="language-plaintext highlighter-rouge">TWO_DIGIT_NUM</code> represents the priority from 00 to 99, and
<code class="language-plaintext highlighter-rouge">SYMPTOM</code> is the description of the symptom. Higher values indicate higher
priority, and the symptom can contain multiple words (it should be everything
after the separating space). You will want to <strong>map</strong> each symptom to its
priority so that you can easily look up a symptom’s priority by its name.</p>

<h3 id="doctors-section">Doctors section</h3>

<p>Each line within the second section only contains a doctor’s name. All
characters on the line (up to the newline) should be considered part of the
name. Doctors should be added to a <strong>queue</strong> in the order that they are listed.</p>

<h3 id="patient-arrivals-section">Patient arrivals section</h3>

<p>Each line within the third section can be broken into <code class="language-plaintext highlighter-rouge">ARRIVAL_HOUR colon
ARRIVAL_MINUTE space quote PATIENT_NAME quote space quote SYMPTOM quote
VISIT_DURATION</code>.</p>

<p><code class="language-plaintext highlighter-rouge">ARRIVAL_HOUR</code> is a number between 00 and 23. <code class="language-plaintext highlighter-rouge">ARRIVAL_MINUTE</code> is a number
between 00 and 59. These two values combined make up the time of the event. All
the events (lines) will be given in sequential order and will all occur between
00:00 and 23:59.</p>

<p><code class="language-plaintext highlighter-rouge">PATIENT_NAME</code> is the name of the patient and should be everything contained
between the two double-quote characters (<code class="language-plaintext highlighter-rouge">"</code>). Likewise, <code class="language-plaintext highlighter-rouge">SYMPTOM</code> is
everything between the second set of double-quote characters.</p>

<p>Finally, <code class="language-plaintext highlighter-rouge">VISIT_DURATION</code> specifies the amount of time in minutes this patient
spends with the doctor when visted by the doctor.</p>

<h2 id="output">Output</h2>

<p>Below is an example of what the output needs look like when given the above
input. Notice that there is one line per event.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>09:11 Vincent van Gogh arrives
09:11 Dr. Something Orother visits Vincent van Gogh about Bleeding
09:30 Phineas Gage arrives
09:45 Neil Armstrong arrives
11:41 Vincent van Gogh departs
11:41 Dr. Something Orother visits Neil Armstrong about Decompression Sickness
17:41 Neil Armstrong departs
17:41 Dr. Something Orother visist Phineas Gage about Head Ache
18:46 Phineas Gage departs
</code></pre></div></div>

<p>Output should be produced in the order that events occur. Here a few rules:</p>

<ul>
  <li>When multiple events occur at the same time arrivals should be output first,
followed by departures, and finally visits.</li>
  <li>When multiple arrivals occur at the same time they should be output in the
same order as they appear on the input stream.</li>
  <li>When multiple departures occur at the same time, they should be output in
the same order that their arrivals occured.</li>
</ul>

<p>Finally, multiple visits can only occur at the same time if there are more than
one available doctor. The patient with the highest priority symptom should be
scheduled the doctor who least-recently finished visiting a
patient. Additionally:</p>

<ul>
  <li>Doctors who have yet to visit a patient should be assigned patients in their
input order (they have priority over doctors who have visited a patient)</li>
  <li>When multiple patients have symptoms of equal priority, whoever arrived first
should be scheduled first.</li>
  <li>When multiple patients with equal priority who arrived at the same time are
waiting, they should be visited in the same order that their arrivals
occured.</li>
  <li>If there are patients and no doctors available, the output should simply be
“No doctors available!n”</li>
</ul>

<h2 id="project-preparation">Project preparation</h2>

<p>For this assignment, you actually do not need any files. However, to make
things somewhat simpler, I have provided a <code class="language-plaintext highlighter-rouge">MaxHeap</code> class in the file
<code class="language-plaintext highlighter-rouge">heap.h</code>. While you will not submit <code class="language-plaintext highlighter-rouge">heap.h</code> this file will be available on the
submission system should you wish to use it.</p>

<p>To begin create a proj3 directory (assuming you haven’t already done so):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> cs24/proj3
</code></pre></div></div>

<p>Change the permissions of the cs24 directory such that only your account can
access the files inside this directory. This step is <strong>incredibly</strong>
important. If omitted, other students can peek at your work and you may be held
partially responsible. It should also go without saying that you may <strong>not</strong>
give other students access to your account. If you’ve done that in the past
please <a href="https://accounts.engr.ucsb.edu/maintain/login">change your password</a> at
this time.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod </span>700 cs24
</code></pre></div></div>

<p>Change into the proj3 directory and copy the files you will need for this
project:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>cs24/proj3
<span class="nb">cp</span> ~bboe/public_html/cs24_f13/code/proj3/<span class="k">*</span> <span class="nb">.</span>
</code></pre></div></div>

<h2 id="working-with-project-3">Working with project 3</h2>

<p>You will only submit <code class="language-plaintext highlighter-rouge">main.cpp</code> thus put all of your code in this program. You
will very likely want to utilize the <code class="language-plaintext highlighter-rouge">queue</code> and <code class="language-plaintext highlighter-rouge">unordered_map</code> libraries from
the STL, and the <code class="language-plaintext highlighter-rouge">MaxHeap</code> class from <code class="language-plaintext highlighter-rouge">heap.h</code>.</p>

<p>When you’re ready to build and test your program run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div>

<p>And run your program via:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./er
</code></pre></div></div>

<h2 id="testing">Testing</h2>

<p>To make testing simpler you may want to make test files and then use input
redirection to provide the test file as the standard input to your program. For
instance if you want to run your program against <code class="language-plaintext highlighter-rouge">sample_input.txt</code> you can run
one of the following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./er &lt; sample_input.txt
<span class="nb">cat </span>sample_input.txt | ./er
</code></pre></div></div>

<h2 id="submitting-the-assignment">Submitting the assignment</h2>

<p>Only one person in a group need submit the assignment but make sure that both
you and your partner can view the submission on the submission site. If you
cannot, you need to complete the making a group process. Please review the
<a href="/cs24_f13/submission">submission instructions</a> as needed. Note that you may resubmit
this assignment as many times as necessary up until the deadline.</p>

  </div>
  <div class="clear">&nbsp;</div>
</div>

      <div id="credits">
        <p><span class="small">Template design by <a href="https://andreasviklund.com/">Andreas Viklund</a></span></p>
      </div>
    </div>
  </body>
</html>
